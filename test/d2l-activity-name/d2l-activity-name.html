<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

		<title>d2l-activity-name test</title>

		<script src="../../../@babel/polyfill/browser.js"></script>
		<script src="../../../@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
		<script src="../../../wct-browser-legacy/browser.js"></script>
		<script type="module" src="../../components/d2l-activity-name/d2l-activity-name.js"></script>
	</head>
	<body>
		<test-fixture id="assignment">
			<template strip-whitespace>
				<d2l-activity-name href="data/assignmentActivity.json" token="whatever"></d2l-activity-name>
			</template>
		</test-fixture>
		<test-fixture id="quizAttempt">
			<template strip-whitespace>
				<d2l-activity-name href="data/quizActivity.json" token="whatever"></d2l-activity-name>
			</template>
		</test-fixture>
		<test-fixture id="topic">
			<template strip-whitespace>
				<d2l-activity-name href="data/topicActivity.json" token="whatever"></d2l-activity-name>
			</template>
		</test-fixture>

		<script type="module">
			let activityName;
			suite('d2l-activity-name base', function() {
				setup(function() {
					activityName = fixture('assignment');
				});
				test('instantiating the element works', function() {
					assert.equal(activityName.tagName.toLowerCase(), 'd2l-activity-name');
				});
				test('activityName is set correctly', function(done) {
					window.requestAnimationFrame(function() {
						assert.equal(activityName._activityName, 'Folder 1');
						done();
					});
				});
				test('activityIcon is set correctly', function(done) {
					flush(function() {
						assert.equal(activityName._activityIcon, 'd2l-tier1:assignments');
						done();
					});
				});
			});
			suite('d2l-activity-name quiz', function() {
				setup(function() {
					activityName = fixture('quizAttempt');
				});
				test('test quiz attempt', function() {
					assert.equal(activityName.tagName.toLowerCase(), 'd2l-activity-name');
				});
			});
			suite('d2l-activity-name topic', function() {
				setup(function() {
					activityName = fixture('topic');
				});
				test('test topic', function() {
					assert.equal(activityName.tagName.toLowerCase(), 'd2l-activity-name');
				});
			});
		</script>
	</body>
</html>
